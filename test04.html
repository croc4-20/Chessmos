<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type="module" src="KeplrConnect.js" defer></script>
    <!-- <script type="module" src="./graphql-server-example/graphqlTestKeplrConnect.js" defer></script>
    <script type="module" src="./graphQl/clientSide.mjs" defer></script> -->
    <script src="https://unpkg.com/@keplr-wallet/provider"></script>
    <script src="./New/main.bundle.js"></script>

    <!-- Import the Apollo Client library -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/apollo-client/3.3.21/umd/apollo-client.min.js"></script> -->

    <!-- Your JavaScript code -->
    <script>
      // const apolloClient = new Apollo.ApolloClient({
      //   uri: 'https://graphql.mainnet.stargaze-apis.com/graphql',
      //   cache: new Apollo.InMemoryCache(),
      // });
      // Other JavaScript code that uses apolloClient
    </script>
    
    <style>

#chessboard {
  display: grid;
  grid-template-columns: repeat(8, 67.2px);
  grid-template-rows: repeat(8, 67.2px);
  width: 560px;
   height: 560px;
}

#body
{
    background-color: lightslategrey;
}

#spell-buttons {
  display: flex;
  justify-content: space-around;
  margin: 20px;
}

.spell-button {
  padding: 20px;
  font-size: 1.5em;
  color: white;
  border-radius: 10px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s;
}

#defensive-spell-button {
  background-color: #4CAF50; /* Green */
}

#offensive-spell-button {
  background-color: #f44336; /* Red */
}

.spell-button:hover {
  transform: scale(1.1);
}

.light
{
    background-color: lightskyblue;
}

.dark
{
    background-color: SteelBlue;   
}

/*.pattern {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border-radius: 100%;
  background-color: white;
  box-shadow: 50 0 50 1px black;
  background-color: thistle;
}*/
.pattern {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100px;
  height: 100px;
  background-image: url('img/WizardHat.png');
  background-size: cover;
}
.selected-piece
{
  background-color: thistle;
}
.highlight 
{
  background-color: lightsalmon;
  border: 2px solid blue;
}
.chess-square
{
   border: 0.05px solid black;
   position : relative;
   align-items: center;
   display: flex;
   justify-content: center;

}

.chess-piece
{
    
    background-size: cover;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: 1;
    overflow: hidden;

}

.white-pawn
{
    width: 66.2px;
    height: 66.2px;
   background-size: cover;
   position: relative;
   top: 0;
   left: 0;
   bottom: 0;
   right: 0;

    
}
.black-knight
{
    
    width: 66.2px;
    height: 66.2px;
    background-size: cover;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: relative;
    z-index: 1;
    overflow: hidden;

}
.white-knight
{
    width: 67.2px;
    height: 67.2px;
    background-size: cover;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
}

.black-pawn
{
    
    width: 66.2px;
    height: 66.2px;
    background-size: cover;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
    z-index: 1;
    overflow: hidden;
}
.white-king
{
    
    background-size: cover;
    width: 66.2px;
    height: 66.2px;
}
.black-king
{
    width: 66.2px;
    height: 66.2px;
    background-size: cover;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
}
.black-queen
{
    background-image: url('images/blackQUEEN.png');
    width: 66.2px;
    height: 66.2px;
    background-size: cover;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: absolute;
}
.white-queen
{
    background-image: url('images/whiteQUEEN.png');
    background-size: cover;
    width: 66.2px;
    height: 66.2px;
}
.black-rook
{
    background-image: url('images/BlackROOK.png');
    background-size: cover;
    width: 67.2px;
    height: 67.2px;
}
.white-rook
{
    background-image: url('images/WhiteROOK.png');
    background-size: cover;
    width: 67.2px;
    height: 67.2px;
}
.white-bishop
{
    background-image: url('images/whiteBishop.png');
    background-size: cover;
     width: 67.2px;
    height: 67.2px;
    background-size: 67.2px;
}
.black-bishop
{
    background-image: url('images/blackBishop.png');
   width: 67.2px;
    height: 67.2px;
}

</style>
</head>

<body id="body">
    <script>
        // Function to create and display iframes for each NFT
//         function displayNfts(nfts) {
//   const container = document.getElementById('nfts-container'); // Container where iframes will be appended
//   container.innerHTML = ''; // Clear the container

//   nfts.forEach(nft => {
//     const iframe = document.createElement('iframe');
//     iframe.classList.add('nft-iframe');
//     iframe.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';
//     iframe.allowFullscreen = true;
//     iframe.height = '100%';
//     iframe.sandbox = 'allow-scripts';
//     iframe.width = '15%';
//     iframe.style = 'min-height: 30px;';
//     iframe.src = nft.media.url; // Set the src to the NFT's media URL
//     iframe.title = nft.name;

//     container.appendChild(iframe); // Add the iframe to the container
//   });
// }
//        function displayNfts(nfts) {
//   const container = document.getElementById('nfts-container');
//   container.innerHTML = '';

//   nfts.forEach(nft => {
//     const nftBox = document.createElement('div');
//     nftBox.classList.add('nft-box');
//     nftBox.style = 'width: 15%;'; // Adjust styling as needed
//     nftBox.setAttribute('data-url', nft.media.url);
//     nftBox.setAttribute('data-name', nft.name);
//     nftBox.setAttribute('data-tokenId', nft.tokenId);

//     const iframe = document.createElement('iframe');
//     iframe.classList.add('nft-iframe');
//     iframe.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';
//     iframe.allowFullscreen = true;
//     iframe.style = 'width: 100%; height: 100%; border: 1px;'; // Adjust as needed
//     iframe.src = nft.media.url;
//     iframe.title = nft.name;

//     // Append the iframe to the clickable box
//     nftBox.appendChild(iframe);
//     container.appendChild(nftBox);

//     // Add click event listener to the box
//     nftBox.addEventListener('click', async function() {
//       const url = this.getAttribute('data-url');
//       const name = this.getAttribute('data-name');
//       const tokenId = this.getAttribute('data-tokenId');

//       // Here you can handle the click as desired
//       console.log(`NFT clicked: ${name} with Token ID: ${tokenId}`);

//       // You can also call fetchAndExtractClasses or any other function you need
//       // For example:
//       const className = await fetchAndExtractClasses(url, 'some-class');
//       console.log(`Class name within some-class:`, className);

//       // Perform further actions as needed
//     });
//   });
// } 
       // Function to create and display iframes for each NFT
function displayNfts(nfts) {
  const container = document.getElementById('nfts-container');
  container.innerHTML = '';
  container.style.display = 'flex'; // Use flexbox to layout children horizontally
  container.style.flexWrap = 'wrap'; // Allow items to wrap as needed
  container.style.gap = '10px'; // Add gap between items for better spacing

  nfts.forEach(nft => {
    const nftBox = document.createElement('div');
    nftBox.classList.add('nft-box');
    nftBox.style = 'min-width: 15%; position: relative;'; // Ensure minimum width and use relative positioning

    const iframe = document.createElement('iframe');
    iframe.classList.add('nft-iframe');
    iframe.allow = 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture';
    iframe.allowFullscreen = true;
    iframe.style = 'width: 100%; height: 100%; border: none;';
    iframe.src = nft.media.url;
    iframe.title = nft.name;
    iframe.style.pointerEvents = 'none';


    nftBox.appendChild(iframe);
    // Add a single click event listener to the container for event delegation
  nftBox.addEventListener('click', function(event) {
      console.log('Clicked element:', event.target);
      const name = nft.name;
      const tokenId = nft.tokenId;
      console.log(`NFT clicked: ${name} with Token ID: ${tokenId}`);

      // Call fetchAndExtractClasses with the URL of the clicked NFT
      const htmlUrl = `https://ipfs-gw.stargaze-apis.com/ipfs/bafybeidwo4kicq35xnvmbaynl334uif26phmmk63sxncn76rhkyyo4ll6i/${tokenId}.html`;
      
      // Replace 'robe' with the actual class you want to extract
      fetchAndExtractClasses(htmlUrl, 'robe').then(className => {
        console.log('Class name within robe:', className);
      });

      fetchAndExtractClasses(htmlUrl, 'staff').then(className => {
        console.log('Class name within staff:', className);
      });

      fetchAndExtractClasses(htmlUrl, 'hat').then(className => {
        console.log('Class name within hat:', className);
      });


    });

    container.appendChild(nftBox);
  });

  
}


  // This is the JavaScript code that you want to execute in the browser
  async function fetchNFTs() {
     try {
        const chainId = 'stargaze-1';
          await window.keplr.enable(chainId);

   const offlineSigner = window.getOfflineSigner(chainId);
    const accounts = await offlineSigner.getAccounts();
    console.log("Connected wallet address:", accounts[0].address);

    const query = {
      query: `
        query NFTs($ownerAddrOrName: String, $filterByCollectionAddrs: [String!], $limit: Int) {
          tokens(ownerAddrOrName: $ownerAddrOrName, filterByCollectionAddrs: $filterByCollectionAddrs, limit: $limit) {

            tokens {
                rarityOrder
                name
                tokenId
                media 
                {
                    format
                    type
                    url

                }
            }
          }
        }
      `,
      variables: { 
        "ownerAddrOrName": accounts[0].address,
        "filterByCollectionAddrs": ["stars18d7ver7mmjdt06mz6x0pz09862060kupju75kpka5j0r7huearcsq0gyg0"],
        "limit": 100
    }
    };

   const response = await fetch('https://graphql.mainnet.stargaze-apis.com/graphql', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(query),
    });
    const data = await response.json();
      //console.log(data);
      const nfts = data.data.tokens.tokens;
    displayNfts(nfts);
      // Here you can update your HTML with the data received
      // For example, if you have a <div id="nft-data"></div> in your HTML
      // document.getElementById('nft-data').textContent = JSON.stringify(data, null, 2);
     } catch (error) {
    console.error('Error fetching NFTs:', error);
  }
}

async function fetchAndExtractClasses(htmlUrl, parentClass) {
  try {
    const response = await fetch(htmlUrl);
    const htmlText = await response.text();
    const parser = new DOMParser();
    const htmlDoc = parser.parseFromString(htmlText, 'text/html');

    // Find the parent element with the given class
    const parentElement = htmlDoc.querySelector(`g.${parentClass}`);
    if (!parentElement) {
      console.error(`No element with the class ${parentClass} found.`);
      return null;
    }

    // Get the child element with a class that is a direct descendant of the parent
    // This assumes that the child is directly inside and not nested deeper
    let childWithClass = parentElement.querySelector('g[class]');
    
    return childWithClass ? childWithClass.getAttribute('class') : null;
  } catch (error) {
    console.error('Error fetching or parsing HTML for URL:', htmlUrl, error);
    return null;
  }
}


 


</script>
<div id="spell-buttons">
  <div id="defensive-spell-button" class="spell-button">
    Cast Defensive Spell
  </div>
  <div id="offensive-spell-button" class="spell-button">
    Cast Offensive Spell
  </div>
</div>

  
  <div id="chessboard">

    <div class="chess-square dark" data-row="0" data-col="0" id="square-0-0">
        <div class="chess-piece">
            <div class="white-rook" src="images/whiteROOK.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="0" data-col="1" id="square-0-1">
        <div class="chess-piece">
            <div class="white-knight" src="images/whiteKNIGHT.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="0" data-col="2" id="square-0-2">
        <div class="chess-piece">
            <div class="white-bishop" src="images/whiteBISHOP.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="0" data-col="3" id="square-0-3">
        <div class="chess-piece">
            <div class="white-queen" src="images/whiteQUEEN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="0" data-col="4" id="square-0-4">
        <div class="chess-piece">
            <div class="white-king" src="images/whiteKING.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="0" data-col="5" id="square-0-5">
        <div class="chess-piece">
            <div class="white-bishop" src="images/whiteBISHOP.png"></div>
        </div>
    </div>
    
    <div class="chess-square dark" data-row="0" data-col="6" id="square-0-6">
        <div class="chess-piece">
            <div class="white-knight" src="images/whiteKNIGHT.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="0" data-col="7" id="square-0-7">
        <div class="chess-piece">
            <div class="white-rook" src="images/whiteROOK.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="1" data-col="0" id="square-1-0">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="1" data-col="1" id="square-1-1">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="1" data-col="2" id="square-1-2">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>
    
    <div class="chess-square dark" data-row="1" data-col="3" id="square-1-3">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="1" data-col="4" id="square-1-4">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>
    
    <div class="chess-square dark" data-row="1" data-col="5" id="square-1-5">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="1" data-col="6" id="square-1-6">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="1" data-col="7" id="square-1-7">
        <div class="chess-piece">
            <div class="white-pawn" src="images/whitePAWN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="2" data-col="0" id="square-2-0"></div>
    <div class="chess-square light" data-row="2" data-col="1" id="square-2-1"></div>
    <div class="chess-square dark" data-row="2" data-col="2" id="square-2-2"></div>
    <div class="chess-square light" data-row="2" data-col="3" id="square-2-3"></div>
    <div class="chess-square dark" data-row="2" data-col="4" id="square-2-4"></div>
    <div class="chess-square light" data-row="2" data-col="5" id="square-2-5"></div>
    <div class="chess-square dark" data-row="2" data-col="6" id="square-2-6"></div>
    <div class="chess-square light" data-row="2" data-col="7" id="square-2-7"></div>
    <div class="chess-square light" data-row="3" data-col="0" id="square-3-0"></div>
    <div class="chess-square  dark" data-row="3" data-col="1" id="square-3-1"></div>
    <div class="chess-square light" data-row="3" data-col="2" id="square-3-2"></div>
    <div class="chess-square dark" data-row="3" data-col="3" id="square-3-3"></div>
    <div class="chess-square light" data-row="3" data-col="4" id="square-3-4"></div>
    <div class="chess-square dark" data-row="3" data-col="5" id="square-3-5"></div>
    <div class="chess-square light" data-row="3" data-col="6" id="square-3-6"></div>
    <div class="chess-square dark" data-row="3" data-col="7" id="square-3-7"></div>
    <div class="chess-square dark" data-row="4" data-col="0" id="square-4-0"></div>
    <div class="chess-square light" data-row="4" data-col="1" id="square-4-1"></div>
    <div class="chess-square dark" data-row="4" data-col="2" id="square-4-2"></div>
    <div class="chess-square light" data-row="4" data-col="3" id="square-4-3"></div>
    <div class="chess-square dark" data-row="4" data-col="4" id="square-4-4"></div>
    <div class="chess-square light" data-row="4" data-col="5" id="square-4-5"></div>
    <div class="chess-square dark" data-row="4" data-col="6" id="square-4-6"></div>
    <div class="chess-square light" data-row="4" data-col="7" id="square-4-7"></div>
    <div class="chess-square light" data-row="5" data-col="0" id="square-5-0"></div>
    <div class="chess-square dark" data-row="5" data-col="1" id="square-5-1"></div>
    <div class="chess-square light" data-row="5" data-col="2" id="square-5-2"></div>
    <div class="chess-square dark" data-row="5" data-col="3" id="square-5-3"></div>
    <div class="chess-square light" data-row="5" data-col="4" id="square-5-4"></div>
    <div class="chess-square dark" data-row="5" data-col="5" id="square-5-5"></div>
    <div class="chess-square light" data-row="5" data-col="6" id="square-5-6"></div>
    <div class="chess-square dark" data-row="5" data-col="7" id="square-5-7"></div>

    <div class="chess-square dark" data-row="6" data-col="0" id="square-6-0">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="6" data-col="1" id="square-6-1">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="6" data-col="2" id="square-6-2">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="6" data-col="3" id="square-6-3">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="6" data-col="4" id="square-6-4">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="6" data-col="5" id="square-6-5">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="6" data-col="6" id="square-6-6">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="6" data-col="7" id="square-6-7">
        <div class="chess-piece">
            <div class="black-pawn" src="images/blackPAWN.png"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="7" data-col="0" id="square-7-0">
        <div class="chess-piece">
            <div class="black-rook"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="7" data-col="1" id="square-7-1">
        <div class="chess-piece">
            <div class="black-knight"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="7" data-col="2" id="square-7-2">
        <div class="chess-piece">
            <div class="black-bishop"></div>
        </div>
    </div>

    <div class="chess-square dark" data-row="7" data-col="3" id="square-7-3">
        <div class="chess-piece">
            <div class="black-queen"></div>
        </div>
    </div>

    <div class="chess-square light" data-row="7" data-col="4" id="square-7-4">
        <div class="chess-piece">
            <div class="black-king"></div>
          </div>
      </div>

    <div class="chess-square dark" data-row="7" data-col="5" id="square-7-5">
        <div class="chess-piece">
            <div class="black-bishop"></div>
        </div>
    </div>
    
    <div class="chess-square light" data-row="7" data-col="6" id="square-7-6">
        <div class="chess-piece">
            <div class="black-knight"></div>
        </div>
    </div>
    
    <div class="chess-square dark" data-row="7" data-col="7" id="square-7-7">
        <div class="chess-piece">
            <div class="black-rook"></div>
        </div>
    </div>

    </div>
<button id="fetch-nfts-button" onclick= "fetchNFTs()">Fetch NFT Data</button>
<div id="nfts-container"></div>

<div>
<!-- Div to display the fetched data -->
<div id="nft-data"></div>

  <!-- Connect Wallet Button -->
  <button id="connectWalletButton">Connect Wallet</button>
    <!-- List NFTs owned by the user -->
  <div id="nft-list"></div>
  <!-- Display selected NFT traits and game options -->
  <div id="nft-details"></div>
</div>

<div id='move-history'>
    <h3>Move History:</h3>
  <ul id="move-list"></ul>
</div>
  

<div id="game-info">
  <div id="turn-display">
    <p>Turn: <span id="turn-color">White</span></p>
  </div>
<div id="captured-pieces">
  <h2>Captured Pieces</h2>
  <div id="white-captured" class="captured-display"></div>
  <div id="white-captured" class="captured-display"></div>
  </div>
</div>


  <button id="newgamebutton">New Game</button>
  


  <script type=module>
    let chessBoard;
    let chessPiece;
    let chessGame;
    let chessArray;
    let ChessGame;
    let handlePieceSelection;
    let game;
    let type;
    let row;
    let col;
    let imagePath;

    document.addEventListener("DOMContentLoaded", function() 
    {
        const currentPiece = 
        {
            type: "pawn",
            color: "black",
            row: 6,
            col: 1,
            elementId: "square-6-1",
            game: game
        };
        const imagePath = "images/blackpawn.png";
        const elementId = `square-${currentPiece.row}-${currentPiece.col}`;

        import('./jsFiles/classGame.js')
        .then(module => {
            ChessGame = module.default;
            game = new ChessGame();

            currentPiece.game = game; // set the game object on the current piece
       
    import('./jsFiles/classPiece.js').then(module => 
    {
        const type = currentPiece.type;
        const color = currentPiece.color;
        const row = currentPiece.row;
        const col = currentPiece.col;
        const game = currentPiece.game;
        const squares = document.querySelectorAll('.square');
        const board = currentPiece.game.board;


        chessPiece = new module.default(type, color, row, col, imagePath, elementId, game, squares);
            //console.log(chessPiece)
       // consoleLogVariables();
        chessPiece.addChessPiece(type, color, row, col, imagePath, elementId, game);
        //chessPiece.initsquares(board, game);
        //chessPiece.initSquares(board, game);

        const squareElement = document.getElementById(chessPiece.elementId);
        if (squareElement) 
        {
            console.log(squareElement);
            squareElement.innerHTML = `<div class="chess-piece ${color}-${type}"></div>`;
            squareElement.classList.add('has-piece');
            squareElement.querySelector('.chess-piece').style.backgroundImage = `url(${imagePath})`;
            squareElement.style.gridRow = row + 1;
            squareElement.style.gridColumn = col + 1;
        } 
        else 
        {
            console.error(`No element found with ID "${elementId}"`);
        }
        

        import('./jsFiles/classBoard.js').then(module => 
        {
            chessBoard = new module.default(game, chessPiece);
                console.log(chessBoard);
            chessBoard.generateBoardHTML();
            chessBoard.displayBoard();
            chessBoard.createBoardElements();
            chessBoard.createPiece(type, color, row, col, imagePath, elementId, game);
            chessBoard.placePieces();
            consoleLogVariables();
            console.log("Board in html", this.game.board);
            console.log("Board in html", game.board);
            console.log("Board in html", game);
            import('./jsFiles/classArray.js')
            .then(module => {
                chessArray = new module.default(game);
                    console.log(chessArray);
                
                chessArray.createPieces();
                chessArray.addPiecesToBoard(chessBoard);
                chessBoard.displayBoard();
                
                if (chessArray.pieces.length > 0) {
                   let currentPiece = chessArray.pieces[0];

                
                    chessGame = new ChessGame(chessArray, chessBoard, handlePieceSelection);
                        console.log(chessGame);
                    //consoleLogVariables();
                    chessGame.startNewGame();
                    chessGame.handlemove(currentPiece, row, col);

               
                } else {
                    console.error("The pieces array is empty.");
                }
            })
            .catch(error => {
                console.error("Error importing classArray.js:", error);
            });
        })
        .catch(error => {
            console.error("Error importing classBoard.js:", error);
        });
    })
    .catch(error => 
    {
        console.error("Error importing classPiece.js:", error);
    });
})
    .catch(error => {
        console.error("Error importing classGame.js:", error);
    });

    function consoleLogVariables(){
        console.log(chessBoard.constructor.name);
    
}
    }, false);



  </script>

  
  </body>
</html>
